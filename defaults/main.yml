---
# defaults file for prometheus
prometheus_install_server: yes
prometheus_install_node_exporter: yes
prometheus_install_alert_manager: yes
prometheus_install_cadvisor: yes
prometheus_install_grafana: no

# assume user == group
prometheus_user: prometheus
prometheus_docker_user: prometheus-docker
prometheus_node_exporter_user: node_exporter

prometheus_docker_dir: /srv/prometheus
prometheus_conf_dir: /etc/prometheus
prometheus_install_dir: /usr/bin
prometheus_log_dir: /var/log/prometheus
prometheus_storage_dir: /var/lib/prometheus
prometheus_alertmanager_storage_dir: /var/lib/alertmanager
prometheus_alertmanager_conf_dir: /etc/alertmanager
prometheus_work_dir: /tmp/prometheus
prometheus_clean_work_dir: yes

# update the checksum if the version/platform is changed
prometheus_tar_checksum: "e12917b25b32980daee0e9cf879d9ec197e2893924bd1574604eb0f550034d46"
prometheus_tar_version: "2.0.0"

prometheus_node_exporter_install: yes
# update the checksum if the version/platform is changed
prometheus_node_exporter_tar_checksum: "1ce667467e442d1f7fbfa7de29a8ffc3a7a0c84d24d7c695cc88b29e0752df37"
prometheus_node_exporter_tar_version: "0.15.2"

# ---
prometheus_global_scrape_interval: 30s
prometheus_global_scrape_timeout: 10s
prometheus_global_evaluation_interval: 1m
prometheus_global_labels: {} # k:v dict

prometheus_scrape_configs:
  - job_name: 'prometheus'
    static_configs:
      - targets:
        - "localhost:9090"
  - job_name: 'prometheus-node'
    static_configs:
      - targets:
        - "localhost:9100"

prometheus_alertmanagers:
  alertmanagers:
    - scheme: 'https'
    - static_configs:
      - targets:
        - "localhost:9093"

prometheus_alerting_rules_template_files: [
#  "./templates/alertmanager-templates/alerting_rules_default.yml.j2"
]

# Alert manager config
prometheus_smtp_smarthost: 'mailserver:587'
prometheus_smtp_from: 'alertmanager@domain.com'
prometheus_smtp_auth_username: '<username>'
prometheus_smtp_auth_password: '<password>'

prometheus_alertmanager_receivers:
  - name: mail
    email_configs:
      - to: 'devops@domain.com'
